## 용도

- 배포 및 관리
- 용량 프로비저닝
- 로드밸런싱
- 조정(?)
- 애플리케이션 상태 모니터링

## 구동 방식

- Elastic Beanstalk 지원 가능 플랫폼 구축(nodejs 버전과 같이)
- ec2 등의 aws 리소스를 하나 이상 프로비저닝하여 실행

## 인터페이스

- Elastic Beanstalk 콘솔
- AWS CLI
- eb

## 개념

### 애플리케이션

- 환경 버전 및 구성을 포함한 Elastic Beanstalk 구성 요소의 논리적 컬렉션
- 개념적으로 폴더와 유사함


### 애플리케이션 버전

- 웹 애플리케이션의 배포 가능한 코드 레이블의 특정 반복(뭔소리야)
- s3 에 있는 객체
- 예) java WAR 파일과 같은 배포가 가능한 코드가 포함된 객체
- 한 애플리케이션에는 여러 버전이 있을 수 있음
- 이미 업로드한 버전을 배포하거나 새 버전을 업데이트할 수 있음
- 서로 다른 버전을 비교하여 테스트 가능

### 환경

- 애플리케이션 버전을 실행하고 있는 AWS 리소스 모음
- 환경 : 버전 = 1 : 1
- 여러 환경을 동시에 실행 가능


### 환경 구성
- 연관된 작동 방법을 정의하는 파라미터 및 설정 모음
- 업데이트하면 자동으로 적용됨
- 저장된 구성을 가져와서 쓸 수 있음
- 로드밸런서, Auto Scaling 그룹, 하나 이상의 EC2 인스턴스로 구성됨
- 모든 로드밸런서는 CNAME(URL)이 각각 존재함 -> Amazon Route 53 과 연동됨
- 사용율이 떨어지면 Auto Scaling은 EC2 인스턴스를 중지하지만 반드시 1개는 실행 상태로 유지함

### 호스트 관리자(HM)
- EC2 인스턴스에서 실행됨
- 애플리케이션 배포
- 콘솔, API, 명령줄을 통해 검색을 위해 이벤트와 측정치 집계
- 인스턴스 수준 이벤트 생성
- 애플리케이션 로그 파일을 모니터링하여 심각한 오류 검출
- 애플리케이션 서버 모니터링
- 인스턴스 구성 요소 패칭
- 애플리케이션의 로그 파일을 교체하고 이를 Amazon S3에 게시

## 작업 환경

- Amazon SQS 대기열이 없으면 자동으로 생성됨
- 생성 시 선택한 플랫폼에 따라 필요한 파일과 데몬이 설치됨(nodejs 선택하면 npm?)
- 데몬은 SQS 대기열로부터 메시지를 읽어 실행중인 웹 애플리케이션으로 전달
- EC2 인스턴스가 여러 개 있으면 데몬은 각각 존재하지만 같은 SQS 대기열로부터 메시지를 읽음
